---
title: 移动应用后端开发学习笔记
tags: [Java, 移动应用，后端]
date: 2017-11-17
---

# 移动应用后端开发学习笔记

## API设计
* Restful设计原则:
    * 根据object而不是页面来设计api
* 命名: 望名知义
* 返回数据:
    * 空值处理:
        * 正确值和空值的类型必须一样
        * 定义全局的函数来处理所有api的返回数据，缺失给予默认值(同时，在数据库设计的时候，一个合理的设计必须是所有字段都有默认值，不应该允许null值)
* 图片处理:
    * 本地缓存，没有合适的则向服务器请求(携带需求参数)，服务端动态生成并缓存返回
* 返回的提示信息:服务端只返回信息代码，具体的文字提示由客户端决定
* 在线api文档和测试，[demo](http://amuropikin.iteye.com/blog/1701537)

## xmpp协议(聊天服务开发)
* 简介:XMPP是一种基于XML的协议,基于XMPP的应用具有超强的可扩展性,扩展以后的XMPP可以通过发送扩展的信息来处理用户的需求，以及在XMPP的顶端建立如内容发布系统和基于地址的服务等应用程序
* 服务端openfire，一个基于xmpp协议的聊天服务器，常用的openfire插件:Subscription(保存openfire聊天记录的插件)/
* 网页端strophe.js 
* 
* 其他: 
    * xmpp除了可以提供聊天服务，还可以充当消息服务器(如消息推送)
    * 多客户端登录，消息同步，相同的账号需要使用不同的resource，可用时间戳生成

## 短信/邮件/推送服务
* 推送:
    * 各种推送一定要放在队列系统中处理(避免影响api的响应时间)
    * android方面
* 短信:
    * [sharesdk](http://mob.com/sms)提供了免费的短信验证码
* 邮件:
    * [mailgun](http://www.mailgun.com/)每月有1万封的免费邮件额度

* 参考：[XMPP高级编程：使用JavaScript和jQuery](https://book.douban.com/subject/6560311/)


## 通讯安全性:
    * 可选方案，公钥/私钥：用户的id是公钥，通过一定的算法对用户的id进行加密得到一个加密字符串是私钥。当用户登录或注册后，通过https把公钥加私钥返回给app客户端。



* 备注:
    * [简书-移动应用后端开发经验](http://www.jianshu.com/u/e57447fd9acf)
